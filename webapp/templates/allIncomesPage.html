{% extends "base.html" %}
{% block content %}
    <h1>All Incomes</h1>
    <p> Total: £{{ total }}</p>
    <div class="table-responsive">
        <table class=" table table-striped table-hover table-bordered border-dark table-align-middle">
            <thead>
            <TR>
                <TH scope="col" width="300px" class="c1">Title</TH>
                <TH scope="col" width="300px" class="c2">Amount</TH>
                <TH scope="col" width="150px" class="c3">EDIT</TH>
                <TH scope="col" width="150px" class="c4">DELETE</TH>
            </TR>
            </thead>
            {% for income in incomes %}
                <TR>
                    <TD class="c1">{{ income.title }}</TD>
                    <TD class="c2">£{{ income.amount }}</TD>
                    <TD>
                        <form action="/incomeEdit/" method="POST">
                            <input type="hidden" id="incomeTitle" name="incomeTitle" value="{{income.title}}">
                            <input type="number"
                   step="0.01"
                   min="0.01"
                   max="999999.99" required
                   id="incomeAmount"
                   name="incomeAmount"
                   class="form-control"
                   placeholder="Upto 2 d.p. e.g. 78.30"
                   aria-label="Amount in pounds (2 decimal places)"
                                   value="{{income.amount}}"
                            />
                            <button type="submit" class="badge">EDIT</button>
                            </form>
                    </TD>
                    <TD>
                        <form action="/incomeDelete/" method="POST">
                            <input type="hidden" id="incomeToDel" name="incomeToDel" value="{{income.title}}">
                            <button type="submit" class="badge">DELETE</button>
                        </form>
                    </TD>

                </TR>
            {% endfor %}
        </table>
    </div>
{% endblock %}
